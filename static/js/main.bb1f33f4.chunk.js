(this.webpackJsonpmy=this.webpackJsonpmy||[]).push([[0],{11:function(e,t,r){},17:function(e,t,r){"use strict";r.r(t);r(11);var i=r(5),s=r(3),n=r(1),c=r(6),a=r(7),d=r(10),o=r(9),l=r(2),h=r(0);function u(e){var t=e.users,r=e.char,i=e.handlerButtonClick,c=function(e,r){i(Object(n.a)(Object(n.a)({},t),{},Object(s.a)({},e,Object(n.a)(Object(n.a)({},t[e]),{},{isActive:"active"===r.target.id}))))},a=Object.keys(t).filter((function(e){if(t[e].firstName.charAt(0)===r)return t[e]}));return a.length?a.map((function(e){return Object(h.jsxs)("div",{id:"filteredUsers",children:[Object(h.jsxs)("div",{className:t[e].isActive?"isActive":"",children:[t[e].firstName," ",t[e].lastName]}),Object(h.jsxs)("form",{children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{onClick:function(r){c(t[e].id,r)},type:"radio",id:"active",name:"input",defaultChecked:t[e].isActive}),"active"]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{onClick:function(r){c(t[e].id,r)},type:"radio",id:"noactive",name:"input",defaultChecked:!t[e].isActive}),"not active"]})]})]},e)})):Object(h.jsx)("div",{children:"No employees"})}function j(e){var t=e.users,r=e.beforeCurrentMonth,i=e.afterCurrentMonth,s=Object.keys(t).filter((function(e){var s=new Date(t[e].dob).getMonth();if(t[e].isActive&&(s===r||s===i))return t[e]}));return s.length?(s.sort((function(e,r){return t[e].lastName>t[r].lastName?1:t[e].lastName<t[r].lastName?-1:t[e].lastName===t[r].lastName?0:void 0})),s.map((function(e){return Object(h.jsx)("div",{id:"filteredUsersBirthday",children:Object(h.jsxs)("div",{className:t[e].isActive&&"isActive",children:[t[e].lastName," ",t[e].firstName," -",new Date(t[e].dob).toDateString()]})},e)}))):Object(h.jsx)("div",{children:"No employees"})}var b=function(e){Object(d.a)(r,e);var t=Object(o.a)(r);function r(){var e;Object(c.a)(this,r);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).alphavit=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e.months=["January","February","March","April","May","June","July","August","September","October","November","December"],e.state={error:null,isLoaded:!1,users:{}},e.handleButtonClick=function(t){var r=Object(n.a)(Object(n.a)({},e.state.users),t);e.setState({users:r}),localStorage.setItem("users",JSON.stringify(r))},e}return Object(a.a)(r,[{key:"parseResult",value:function(e){return e.reduce((function(e,t){return Object(n.a)(Object(n.a)({},e),{},Object(s.a)({},t.id,Object(n.a)({},t)))}),{})}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("users");if(t){var r=JSON.parse(t);this.setState({isLoaded:!0,users:r})}else fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){return e.json()})).then((function(t){var r=e.parseResult(t);e.setState({isLoaded:!0,users:r})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){var e=this,t=this.state,r=t.error,s=t.isLoaded,n=t.users,c=(new Date).getMonth(),a=[].concat(Object(i.a)(this.months.slice(c)),Object(i.a)(this.months.slice(0,c)));return r?Object(h.jsxs)("div",{children:["\u041e\u0448\u0438\u0431\u043a\u0430: ",r.message]}):s?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{id:"headers",children:[Object(h.jsx)("h1",{id:"headerEmployees",children:"Employees"}),Object(h.jsx)("h1",{id:"headerEmployeesBirthday",children:"Employees birthday"})]}),Object(h.jsxs)("div",{id:"wrapper",children:[Object(h.jsx)("div",{id:"employeers",children:this.alphavit.map((function(t){return Object(h.jsxs)("div",{id:"charEmployeers",children:[Object(h.jsx)("div",{id:"header",children:t}),Object(h.jsx)("div",{id:"listEmployeers",children:Object(h.jsx)(u,{char:t,handlerButtonClick:e.handleButtonClick,users:n})})]},t)}))}),Object(h.jsxs)("div",{id:"employeersBirthday",children:[Object(h.jsx)("h2",{children:"Months"}),a.map((function(e,t){return Object(h.jsx)("div",{id:"monthEmployeers",children:Object(h.jsxs)("div",{id:"headerMonths",children:[e,Object(h.jsx)("div",{id:"listEmployeersBirthday",children:Object(h.jsx)(j,{beforeCurrentMonth:t-(a.length-c),afterCurrentMonth:c+t,month:e,monthsNumber:t,users:n})})]})},e)}))]})]})]}):Object(h.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})}}]),r}(l.Component),m=r(8);r.n(m).a.render(Object(h.jsx)(b,{}),document.getElementById("App"))}},[[17,1,2]]]);
//# sourceMappingURL=main.bb1f33f4.chunk.js.map