(this.webpackJsonpmy=this.webpackJsonpmy||[]).push([[0],{11:function(e,t,s){},17:function(e,t,s){"use strict";s.r(t);s(11);var i=s(5),c=s(2),n=s(1),r=s(6),a=s(7),l=s(10),o=s(9),d=s(3),u=s(0);function j(e){var t=e.users,s=e.char,i=e.handlerButtonClick,r=function(e,s){i(Object(n.a)(Object(n.a)({},t),{},Object(c.a)({},e,Object(n.a)(Object(n.a)({},t[e]),{},{isActive:"active"===s.target.id}))))},a=Object.keys(t).filter((function(e){if(t[e].firstName.charAt(0)===s)return t[e]}));return a.length?a.map((function(e){return Object(u.jsxs)("div",{id:"filteredUsers",children:[Object(u.jsxs)("div",{className:t[e].isActive?"isActive":"",children:[t[e].firstName," ",t[e].lastName]}),Object(u.jsxs)("form",{children:[Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{onClick:function(s){r(t[e].id,s)},type:"radio",id:"active",name:"input",defaultChecked:t[e].isActive}),"active"]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{onClick:function(s){r(t[e].id,s)},type:"radio",id:"noactive",name:"input",defaultChecked:!t[e].isActive}),"not active"]})]})]},e)})):Object(u.jsx)("div",{children:"No employees"})}function h(e){var t=e.users,s=e.beforeCurrentMonth,i=e.afterCurrentMonth,c=Object.keys(t).filter((function(e){var c=new Date(t[e].dob).getMonth();if(t[e].isActive&&(c===s||c===i))return t[e]}));return c.length?(c.sort((function(e,s){return t[e].lastName>t[s].lastName?1:t[e].lastName<t[s].lastName?-1:t[e].lastName===t[s].lastName?0:void 0})),c.map((function(e){return Object(u.jsx)("div",{id:"filteredUsersBirthday",children:Object(u.jsxs)("div",{className:t[e].isActive&&"isActive",children:[t[e].lastName," ",t[e].firstName," -",new Date(t[e].dob).toDateString()]})},e)}))):Object(u.jsx)("div",{children:"No employees"})}var b=function(e){Object(l.a)(s,e);var t=Object(o.a)(s);function s(){var e;Object(r.a)(this,s);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).alphavit=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e.months=["January","February","March","April","May","June","July","August","September","October","November","December"],e.state={error:null,isLoaded:!1,users:{}},e.handleButtonClick=function(t){var s=Object(n.a)(Object(n.a)({},e.state.users),t);e.setState({users:s}),localStorage.setItem("users",JSON.stringify(s))},e.handleButtonActiveAllClick=function(t){var s=Object.keys(e.state.users).reduce((function(t,s){return Object(n.a)(Object(n.a)({},t),{},Object(c.a)({},s,Object(n.a)(Object(n.a)({},e.state.users[s]),{},{isActive:!0})))}),{});e.setState({users:s})},e.handleButtonNoActiveAllClick=function(t){var s=Object.keys(e.state.users).reduce((function(t,s){return Object(n.a)(Object(n.a)({},t),{},Object(c.a)({},s,Object(n.a)(Object(n.a)({},e.state.users[s]),{},{isActive:!1})))}),{});e.setState({users:s})},e}return Object(a.a)(s,[{key:"parseResult",value:function(e){return e.reduce((function(e,t){return Object(n.a)(Object(n.a)({},e),{},Object(c.a)({},t.id,Object(n.a)({},t)))}),{})}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("users");if(t){var s=JSON.parse(t);this.setState({isLoaded:!0,users:s})}else fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){return e.json()})).then((function(t){var s=e.parseResult(t);e.setState({isLoaded:!0,users:s})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){var e=this,t=this.state,s=t.error,c=t.isLoaded,n=t.users,r=(new Date).getMonth(),a=[].concat(Object(i.a)(this.months.slice(r)),Object(i.a)(this.months.slice(0,r)));return s?Object(u.jsxs)("div",{children:["\u041e\u0448\u0438\u0431\u043a\u0430: ",s.message]}):c?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{id:"headers",children:[Object(u.jsx)("h1",{id:"headerEmployees",children:"Employees"}),Object(u.jsx)("h1",{id:"headerEmployeesBirthday",children:"Employees birthday"}),Object(u.jsxs)("div",{id:"buttons",children:[Object(u.jsx)("button",{onClick:this.handleButtonActiveAllClick,className:"button",id:"active",children:"Active"}),Object(u.jsx)("button",{onClick:this.handleButtonNoActiveAllClick,className:"button",id:"noactive",children:"No active"})]})]}),Object(u.jsxs)("div",{id:"wrapper",children:[Object(u.jsx)("div",{id:"employeers",children:this.alphavit.map((function(t){return Object(u.jsxs)("div",{id:"charEmployeers",children:[Object(u.jsx)("div",{id:"header",children:t}),Object(u.jsx)("div",{id:"listEmployeers",children:Object(u.jsx)(j,{char:t,handlerButtonClick:e.handleButtonClick,users:n})})]},t)}))}),Object(u.jsxs)("div",{id:"employeersBirthday",children:[Object(u.jsx)("h2",{children:"Months"}),a.map((function(e,t){return Object(u.jsx)("div",{id:"monthEmployeers",children:Object(u.jsxs)("div",{id:"headerMonths",children:[e,Object(u.jsx)("div",{id:"listEmployeersBirthday",children:Object(u.jsx)(h,{beforeCurrentMonth:t-(a.length-r),afterCurrentMonth:r+t,month:e,monthsNumber:t,users:n})})]})},e)}))]})]})]}):Object(u.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})}}]),s}(d.Component),O=s(8);s.n(O).a.render(Object(u.jsx)(b,{}),document.getElementById("App"))}},[[17,1,2]]]);
//# sourceMappingURL=main.13d95e05.chunk.js.map